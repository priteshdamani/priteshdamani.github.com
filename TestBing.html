<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="http://ecn.dev.virtualearth.net/mapcontrol/mapcontrol.ashx?v=7.0" type="text/javascript"></script>
    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js" type="text/javascript"></script>
    <script src="http://code.jquery.com/mobile/1.0/jquery.mobile-1.0.min.js" type="text/javascript" ></script>
    <script src="http://jquery-bing-maps.googlecode.com/svn/trunk/js/min/jquery.ui.bmap.min.js" type="text/javascript" ></script>
    <meta name="viewport" content="width=device-width, minimum-scale=1, maximum-scale=1">
</head>
<body>
<script type="text/javascript">

    function getLocation()
    {
        if (navigator.geolocation)
        {
            navigator.geolocation.getCurrentPosition(showPosition);
        }
        else
        {
            alert("Geolocation is not supported by this browser.");
        }
    }
    function showPosition(position)
    {
        //alert(position);
        var location = new Microsoft.Maps.Location(position.coords.latitude,position.coords.longitude);
        $('#map').gmap('destroy');
        $('#map').gmap({
            'credentials': 'AhRxubf4Y88jMvqICLSXdhU93tUWt9EdUIbClkD2kbxHrEbRl40w6YBJsmneWa-v',
            'mapTypeId': Microsoft.Maps.MapTypeId.road,
            'showMapTypeSelector': false,
            'zoom':15,
            'center':location
        });
        $('#map').gmap('addMarker', { 'location': location, 'bounds': false });
    }

    $(document).ready(function () {
        $('#map').gmap({
            'credentials': 'AhRxubf4Y88jMvqICLSXdhU93tUWt9EdUIbClkD2kbxHrEbRl40w6YBJsmneWa-v',
            'mapTypeId': Microsoft.Maps.MapTypeId.road,
            'showMapTypeSelector': false,
            'zoom':3
        });

        getLocation();
    });
</script>

<div id="map" style="position: fixed; top: 0; right: 0; bottom: 0; left: 0;"></div>
</body>
</html>